<?xml version='1.0'?>
<!DOCTYPE platform SYSTEM "https://simgrid.org/simgrid.dtd">
<platform version="4.1">
  <zone id="main" routing="Full">
    <!-- Controller Host -->
    <host id="ControllerHost" speed="1Gf" core="1"/>
    
    <!-- Storage Host -->
    <host id="StorageHost" speed="1Gf" core="1">
      <disk id="storage_disk" read_bw="150MBps" write_bw="150MBps">
        <prop id="size" value="1000GB"/>
        <prop id="mount" value="/storage"/>
      </disk>
    </host>
    
    <!-- Compute Hosts -->
    <host id="ComputeHost1" speed="2Gf" core="4">
      <disk id="local_disk" read_bw="200MBps" write_bw="200MBps">
        <prop id="size" value="100GB"/>
        <prop id="mount" value="/scratch"/>
      </disk>
    </host>
    
    <host id="ComputeHost2" speed="3Gf" core="8">
      <disk id="local_disk" read_bw="250MBps" write_bw="250MBps">
        <prop id="size" value="200GB"/>
        <prop id="mount" value="/scratch"/>
      </disk>
    </host>
    
    <host id="ComputeHost3" speed="2.5Gf" core="6">
      <disk id="local_disk" read_bw="220MBps" write_bw="220MBps">
        <prop id="size" value="150GB"/>
        <prop id="mount" value="/scratch"/>
      </disk>
    </host>
    
    <host id="ComputeHost4" speed="4Gf" core="16">
      <disk id="local_disk" read_bw="300MBps" write_bw="300MBps">
        <prop id="size" value="500GB"/>
        <prop id="mount" value="/scratch"/>
      </disk>
    </host>
    
    <!-- Network -->
    <link id="network" bandwidth="1GBps" latency="1ms"/>
    
    <!-- Routes -->
    <route src="ControllerHost" dst="StorageHost">
      <link_ctn id="network"/>
    </route>
    <route src="ControllerHost" dst="ComputeHost1">
      <link_ctn id="network"/>
    </route>
    <route src="ControllerHost" dst="ComputeHost2">
      <link_ctn id="network"/>
    </route>
    <route src="ControllerHost" dst="ComputeHost3">
      <link_ctn id="network"/>
    </route>
    <route src="ControllerHost" dst="ComputeHost4">
      <link_ctn id="network"/>
    </route>
    <route src="StorageHost" dst="ComputeHost1">
      <link_ctn id="network"/>
    </route>
    <route src="StorageHost" dst="ComputeHost2">
      <link_ctn id="network"/>
    </route>
    <route src="StorageHost" dst="ComputeHost3">
      <link_ctn id="network"/>
    </route>
    <route src="StorageHost" dst="ComputeHost4">
      <link_ctn id="network"/>
    </route>
    <route src="ComputeHost1" dst="ComputeHost2">
      <link_ctn id="network"/>
    </route>
    <route src="ComputeHost1" dst="ComputeHost3">
      <link_ctn id="network"/>
    </route>
    <route src="ComputeHost1" dst="ComputeHost4">
      <link_ctn id="network"/>
    </route>
    <route src="ComputeHost2" dst="ComputeHost3">
      <link_ctn id="network"/>
    </route>
    <route src="ComputeHost2" dst="ComputeHost4">
      <link_ctn id="network"/>
    </route>
    <route src="ComputeHost3" dst="ComputeHost4">
      <link_ctn id="network"/>
    </route>
  </zone>
</platform>
