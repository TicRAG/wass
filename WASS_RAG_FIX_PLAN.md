# WASS-RAG决策多样性问题修复方案

## 问题诊断

经过深入分析，发现WASS-RAG总是选择node_0且所有节点得分相同(-0.10)的根本原因：

### 1. 性能预测器未训练
- 性能预测器使用随机初始化的权重
- 对于任何输入都输出几乎相同的值（约0.1）
- 导致所有节点得分相同（-0.10）

### 2. 节点选择逻辑缺陷
当所有节点得分相同时，Python的max()函数总是返回第一个元素（node_0）

### 3. 置信度计算简化
固定的置信度计算没有考虑决策质量

## 修复策略

### 短期修复（立即可用）

1. **改进未训练模型的处理**
2. **增加决策多样性**  
3. **改进置信度计算**

### 长期解决方案

1. **训练性能预测器**
2. **实现在线学习**

## 实施方案

我将创建一个修复版本，确保即使在未训练的情况下也能产生合理的多样性决策。
